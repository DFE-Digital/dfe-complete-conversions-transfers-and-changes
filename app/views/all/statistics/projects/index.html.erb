<% content_for :primary_navigation do %>
  <%= render partial: "shared/navigation/all_projects_primary_navigation" %>
<% end %>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-one-half">
    <h1 class="govuk-heading-xl">Statistics</h1>
    <h2 class="govuk-heading-l">Overview of all projects</h2>
    <table class="govuk-table" name="statistics_table" aria-label="Project statistics">
      <thead class="govuk-table__head">
        <tr class="govuk-table__row">
          <th class="govuk-table__header" scope="col">Detail</th>
          <th class="govuk-table__header govuk-table__header--numeric" scope="col">Total number</th>
        </tr>
      </thead>
      <tbody class="govuk-table__body">
        <tr class="govuk-table__row" id="in_progress">
          <th scope="row" class="govuk-table__cell">In progress projects</th>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.total_number_of_in_progress_projects %></td>
        </tr>
        <tr class="govuk-table__row" id="completed">
          <th scope="row" class="govuk-table__cell">Completed projects</th>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.total_number_of_completed_projects %></td>
        </tr>
        <tr class="govuk-table__row" id="unassigned">
          <th scope="row" class="govuk-table__cell">Unassigned projects</th>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.total_number_of_unassigned_projects %></td>
        </tr>
        <tr class="govuk-table__row" id="all_projects">
          <th scope="row" class="govuk-table__cell">All projects</th>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.total_number_of_projects %></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-one-half">
    <h2 class="govuk-heading-l">Projects with Regional casework services</h2>
    <table class="govuk-table" name="regional_casework_services_statistics_table" aria-label="Regional casework services statistics">
      <thead class="govuk-table__head">
        <tr class="govuk-table__row">
          <th class="govuk-table__header" scope="col">Detail</th>
          <th class="govuk-table__header govuk-table__header--numeric" scope="col">Total number</th>
        </tr>
      </thead>
      <tbody class="govuk-table__body" id="voluntary_projects">
        <tr class="govuk-table__row" id="in_progress">
          <th scope="row" class="govuk-table__cell">In progress projects</th>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.in_progress_projects_with_regional_casework_services %></td>
        </tr>
        <tr class="govuk-table__row" id="completed">
          <th scope="row" class="govuk-table__cell">Completed projects</th>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.completed_projects_with_regional_casework_services %></td>
        </tr>
        <tr class="govuk-table__row" id="unassigned">
          <th scope="row" class="govuk-table__cell">Unassigned projects</th>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.unassigned_projects_with_regional_casework_services %></td>
        </tr>
        <tr class="govuk-table__row" id="all_projects">
          <th scope="row" class="govuk-table__cell">All projects with Regional casework services</th>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.total_projects_with_regional_casework_services %></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-one-half">
    <h2 class="govuk-heading-l">Projects not with Regional casework services</h2>
    <table class="govuk-table" name="not_with_regional_casework_services_statistics_table" aria-label="Not with Regional casework services statistics">
      <thead class="govuk-table__head">
        <tr class="govuk-table__row">
          <th class="govuk-table__header" scope="col">Detail</th>
          <th class="govuk-table__header" scope="col">Total number</th>
        </tr>
      </thead>
        <tr class="govuk-table__row" id="in_progress">
          <th scope="row" class="govuk-table__cell">In progress projects</th>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.in_progress_projects_not_with_regional_casework_services %></td>
        </tr>
        <tr class="govuk-table__row" id="completed">
          <th scope="row" class="govuk-table__cell">Completed projects</th>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.completed_projects_not_with_regional_casework_services %></td>
        </tr>
        <tr class="govuk-table__row" id="unassigned">
          <th scope="row" class="govuk-table__cell">Unassigned projects</th>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.unassigned_projects_not_with_regional_casework_services %></td>
        </tr>
        <tr class="govuk-table__row" id="all_projects">
          <th scope="row" class="govuk-table__cell">All projects not with Regional casework services</th>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.total_projects_not_with_regional_casework_services %></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-three-quarters">
    <h2 class="govuk-heading-l">Projects per region</h2>
    <table class="govuk-table" name="not_with_regional_casework_services_statistics_table" aria-label="Not with Regional casework services statistics">
      <thead class="govuk-table__head">
        <tr class="govuk-table__row">
          <th class="govuk-table__header" scope="col">Region</th>
          <th class="govuk-table__header govuk-table__header--numeric" scope="col">In-progress projects</th>
          <th class="govuk-table__header govuk-table__header--numeric" scope="col">Completed projects</th>
          <th class="govuk-table__header govuk-table__header--numeric" scope="col">Unassigned</th>
          <th class="govuk-table__header govuk-table__header--numeric" scope="col">All projects</th>
        </tr>
      </thead>
      <tbody class="govuk-table__body" id="london">
        <tr class="govuk-table__row">
          <th scope="row" class="govuk-table__cell">London</th>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.in_progress_projects_within_london_region %></td>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.completed_projects_within_london_region %></td>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.unassigned_projects_in_region(:london) %></td>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.total_projects_within_london_region %></td>
        </tr>
        <tr class="govuk-table__row" id="south_east">
          <th scope="row" class="govuk-table__cell">South East</th>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.in_progress_projects_within_south_east_region %></td>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.completed_projects_within_south_east_region %></td>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.unassigned_projects_in_region(:south_east) %></td>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.total_projects_within_south_east_region %></td>
        </tr>
        <tr class="govuk-table__row" id="yorkshire_and_the_humber">
          <th scope="row" class="govuk-table__cell">Yorkshire and the Humber</th>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.in_progress_projects_within_yorkshire_and_the_humber_region %></td>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.completed_projects_within_yorkshire_and_the_humber_region %></td>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.unassigned_projects_in_region(:yorkshire_and_the_humber) %></td>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.total_projects_within_yorkshire_and_the_humber_region %></td>
        </tr>
        <tr class="govuk-table__row" id="north_west">
          <th scope="row" class="govuk-table__cell">North West</th>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.in_progress_projects_within_north_west_region %></td>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.completed_projects_within_north_west_region %></td>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.unassigned_projects_in_region(:north_west) %></td>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.total_projects_within_north_west_region %></td>
        </tr>
        <tr class="govuk-table__row" id="east_of_england">
          <th scope="row" class="govuk-table__cell">East of England West</th>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.in_progress_projects_within_east_of_england_region %></td>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.completed_projects_within_east_of_england_region %></td>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.unassigned_projects_in_region(:east_of_england) %></td>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.total_projects_within_east_of_england_region %></td>
        </tr>
        <tr class="govuk-table__row" id="west_midlands">
          <th scope="row" class="govuk-table__cell">West Midlands</th>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.in_progress_projects_within_west_midlands_region %></td>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.completed_projects_within_west_midlands_region %></td>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.unassigned_projects_in_region(:west_midlands) %></td>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.total_projects_within_west_midlands_region %></td>
        </tr>
        <tr class="govuk-table__row" id="north_east">
          <th scope="row" class="govuk-table__cell">North East</th>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.in_progress_projects_within_north_east_region %></td>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.completed_projects_within_north_east_region %></td>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.unassigned_projects_in_region(:north_west) %></td>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.total_projects_within_north_east_region %></td>
        </tr>
        <tr class="govuk-table__row" id="south_west">
          <th scope="row" class="govuk-table__cell">South West</th>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.in_progress_projects_within_south_west_region %></td>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.completed_projects_within_south_west_region %></td>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.unassigned_projects_in_region(:south_west) %></td>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.total_projects_within_south_west_region %></td>
        </tr>
        <tr class="govuk-table__row" id="east_midlands">
          <th scope="row" class="govuk-table__cell">East Midlands</th>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.in_progress_projects_within_east_midlands_region %></td>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.completed_projects_within_east_midlands_region %></td>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.unassigned_projects_in_region(:east_midlands) %></td>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= @project_statistics.total_projects_within_east_midlands_region %></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-one-half">
    <h2 class="govuk-heading-l">6 month view of all project openers</h2>
    <table class="govuk-table" name="statistics_table" aria-label="Project statistics">
      <thead class="govuk-table__head">
        <tr class="govuk-table__row">
          <th class="govuk-table__header" scope="col">Project opener date</th>
          <th class="govuk-table__header govuk-table__header--numeric" scope="col">Total number</th>
        </tr>
      </thead>
      <tbody class="govuk-table__body">
      <% @project_statistics.opener_date_and_project_total.each do |key, value| %>
        <tr class="govuk-table__row" id="<%= key.tr(" ", "_") %>">
          <th scope="row" class="govuk-table__cell"><%= key %></th>
          <td class="govuk-table__cell govuk-table__cell--numeric"><%= value %></td>
        </tr>
      <% end %>
      </tbody>
    </table>
  </div>
</div>
